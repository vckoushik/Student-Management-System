@model IEnumerable<Student_Management_System.Models.Job>

@{
    ViewData["Title"] = "Jobs";
}

<h1>Jobs Portal</h1>
 @if (User.IsInRole("Librarian") || User.IsInRole("Admin"))
{
    <p>
    <a class="btn btn-primary" asp-action="Create">Create New</a>
    </p>
}

<div class="row">
    <div class="col-md-12 mt-4">
        <div class="card">
            <div class="card-header pb-0 px-3">
                <h3 class="mb-0">Job Openings List</h3>
            </div>
            <div class="card-body pt-4 p-3">
                <ul class="list-group">
                    @foreach (var item in Model) {
                    <li class="list-group-item border-0 d-flex p-4 mb-2 bg-gray-100 border-radius-lg">
                        <div class="d-flex flex-column">
                                <div style="height:100px;width:150px;" class="card-header p-0 mx-3 mt-3 position-relative z-index-1">
                                    <a href="javascript:;" class="d-block">
                                        <img src="@item.CompanyLogo" class="img-fluid border-radius-lg">
                                    </a>
                                </div>
                            <h6 class="mb-5">@item.Title</h6>
                            <span class="mb-2 ">Company Name: <span class="text-dark font-weight-bold ms-sm-2">@item.Company</span></span>
                            <span class="mb-2 ">Email Address: <span class="text-dark ms-sm-2 font-weight-bold">@item.Email</span></span>
                            <span class="">Description:  <span class="text-dark ms-sm-2 font-weight-bold">@item.Description</span></span>
                        </div>
                        <div class="ms-auto text-end">
                                <div>
                                <a class="btn btn-link text-dark px-3 mb-0" href="@item.LinkToJob"><i class="fas fa-eye text-dark me-2" aria-hidden="true"></i>View</a>
                                </div>
                                @if (User.IsInRole("Librarian") || User.IsInRole("Admin"))
                                {
                                    <a class="btn btn-link text-danger text-gradient px-3 mb-0" asp-action="Delete" asp-route-id="@item.Id"><i class="far fa-trash-alt me-2"></i>Delete</a>
                                    <a class="btn btn-link text-dark px-3 mb-0" asp-action="Edit" asp-route-id="@item.Id"><i class="fas fa-pencil-alt text-dark me-2" aria-hidden="true"></i>Edit</a>
                                }
                            </div>    
                    </li>

                    }
                </ul>
            </div>
        </div>
    </div>
</div>

<script>
    function openInNewTab(url) {
        window.open(url, '_blank').focus();
    }

    // Or just
    window.open(url);
</script>
